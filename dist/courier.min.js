!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("courier",[],t):"object"==typeof exports?exports.courier=t():e.courier=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setCourierDefaults=void 0;var o=r(2),a=n(o),s=r(4),i=void 0,u=function(e){return e||{}},l=function(e){var t=void 0;return((0,s.isObject)(e)||(0,s.isObject)(i))&&(e=u(e),i=u(i),t=Object.assign(e,i)),new a.default(t)};t.setCourierDefaults=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i=Object.assign(i||{},e)};t.default=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),u=n(i),l=r(5),f=n(l),d=r(6),c=n(d),h=r(7),p=n(h),y=r(4),m={cache:"default",credentials:"omit",data:null,dataType:"json",headers:new f.default,method:"GET",mode:"no-cors",password:null,queryStrings:[],referrer:null,type:"json",url:null,username:null},b=function(e,t){return new Promise(function(r,n){var o=(0,y.isPrototypeOfDataType)(e,c.default)&&!t?e:new c.default(e,t),a=new XMLHttpRequest;if(a.onload=function(){var e=1223===a.status?204:a.status;if(100>e||e>599)return void n(new TypeError("Network request failed"));var t={headers:_(a),status:e,statusText:a.statusText,url:(0,y.xhrResponseURL)(a)},o="response"in a?a.response:a.responseText;r(new p.default(o,t))},a.onerror=function(){n(new TypeError("Network request failed"))},"no-cache"===o.cache){var s=(new Date).getTime();o.url+=(/\?/.test(o.url)?"&":"?")+"preventCache="+s}a.open(o.method,o.url,!0,o.username,o.password),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&y.support.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},_=function(e){var t=e.getAllResponseHeaders().trim().split("\n"),r=new f.default;return t.forEach(function(e){var t=e.trim().split(":"),n=t.shift().trim(),o=t.join(":").trim();r.append(n,o)}),r},v=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var r=Object.assign(m,t);return(0,y.setNonEnumerable)(this,"_cache",r.cache),(0,y.setNonEnumerable)(this,"_data",r.data),(0,y.setNonEnumerable)(this,"_dataType",r.dataType),(0,y.setNonEnumerable)(this,"_credentials",r.credentials),(0,y.setNonEnumerable)(this,"_headers",r.headers),(0,y.setNonEnumerable)(this,"_method",r.method),(0,y.setNonEnumerable)(this,"_mode",r.mode),(0,y.setNonEnumerable)(this,"_password",r.password),(0,y.setNonEnumerable)(this,"_queryStrings",r.queryStrings),(0,y.setNonEnumerable)(this,"_type",r.type),(0,y.setNonEnumerable)(this,"_url",r.url),(0,y.setNonEnumerable)(this,"_username",r.username),this}return s(e,[{key:"auth",value:function(e,t){return this._password=t,this._username=e,this}},{key:"cache",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"default":arguments[0];return this._cache=e,this}},{key:"credentials",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"include":arguments[0];return this._credentials=e,this}},{key:"data",value:function(e,t){var r={};return void 0===t?(0,y.isPrototypeOfDataType)(e,FormData)||(0,y.isPrototypeOfDataType)(e,Blob)?r=e:Object.getOwnPropertyNames(e).forEach(function(t){r[t]=e[t]}):r[e]=t,Object.getOwnPropertyNames(r).length&&(this._data=Object.assign(this._data||{},r)),this}},{key:"dataFilter",value:function(e){return this._dataFilter=e,this}},{key:"dataType",value:function(e){return this._dataType=e,this}},{key:"delete",value:function(e){return this._method="DELETE",this._url=e,this}},{key:"get",value:function(e){return this._method="GET",this._url=e,this}},{key:"head",value:function(e){return this._method="HEAD",this._url=e,this}},{key:"headers",value:function(e,t){var r=this;return"object"===("undefined"==typeof e?"undefined":a(e))&&e?Object.getOwnPropertyNames(e).forEach(function(t){var n=(0,y.normalizeValue)(e[t]);t=(0,y.normalizeValue)(t),r._headers.append(t,n)}):(e=(0,y.normalizeValue)(e),t=(0,y.normalizeValue)(t),this._headers.append(e,t)),this}},{key:"mode",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"same-origin":arguments[0];return this._mode=e,this}},{key:"options",value:function(e){return this._method="OPTIONS",this._url=e,this}},{key:"patch",value:function(e){return this._method="PATCH",this._url=e,this}},{key:"post",value:function(e){return this._method="POST",this._url=e,this}},{key:"put",value:function(e){return this._method="PUT",this._url=e,this}},{key:"query",value:function(e,t){var r=this;return"object"===("undefined"==typeof e?"undefined":a(e))&&e?Object.getOwnPropertyNames(e).forEach(function(t){var n=(0,y.normalizeValue)(e[t]);t=(0,y.normalizeValue)(t),r._queryStrings.push(t+"="+n)}):(e=(0,y.normalizeValue)(e),t=(0,y.normalizeValue)(t),this._queryStrings.push(e+"="+t)),this}},{key:"send",value:function(e){var t=this,r=new f.default(this._headers),n=void 0;if(this._data)switch(this._dataType){case"blob":n=new Blob([JSON.stringify(this._data)],{type:"application/json"});break;case"json":n=JSON.stringify(this._data);break;case"form":n=new FormData;for(var o in this._data)n.append(o,this._data[o]);break;case"string":n=String(this._data);break;default:n=this._data}this._queryStrings.length&&(this._url+="?",this._queryStrings.forEach(function(e){t._url+=e+"&"}),this._url=this._url.slice(0,-1));var a={body:n?new u.default(n):null,cache:this._cache,credentials:this._credentials,headers:r,method:this._method,mode:this._mode,password:this._password,username:this._username},s=new c.default(this._url,a),i=null,l=void 0;b(s,a).then(function(r){return l=r,r.ok?void(r._bodyBlob?(0,y.readBlobAsText)(r._bodyBlob):Promise.resolve(r._bodyText)).then(function(e){switch(l.responseText=e,t._type){case"arrayBuffer":return r.arrayBuffer(t._dataFilter);case"blob":return r.blob(t._dataFilter);case"json":return r.json(t._dataFilter);default:return r.text(t._dataFilter)}}).then(function(t){e(t,i,l)}):(i={status:r.status,statusText:r.statusText},null)})}},{key:"type",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"json":arguments[0];return this._type=e,this}}]),e}();t.default=v,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=function(e){if((0,o.setNonEnumerable)(this,"_bodyInit",e),"string"==typeof e)(0,o.setNonEnumerable)(this,"_bodyText",e);else if(o.support.blob&&(0,o.isPrototypeOfDataType)(e,Blob))(0,o.setNonEnumerable)(this,"_bodyBlob",e);else if(o.support.formData&&(0,o.isPrototypeOfDataType)(e,FormData))(0,o.setNonEnumerable)(this,"_bodyFormData",e);else if(e){if(!o.support.arrayBuffer||!(0,o.isPrototypeOfDataType)(e,ArrayBuffer))throw new TypeError("Unsupported BodyInit type")}else(0,o.setNonEnumerable)(this,"_bodyText","")},s=function i(){return n(this,i),this.bodyUsed=!1,(0,o.setNonEnumerable)(this,"_initBody",a),this};o.support.blob?(s.prototype.blob=function(e){var t=(0,o.consumed)(this);if(t)return t;if(this._bodyBlob){var r=Promise.resolve(this._bodyBlob);return(0,o.isFunction)(e)?r.then(e):r}if(this._bodyFormData)throw new Error("could not read FormData body as blob");return(0,o.isFunction)(e)&&(this._bodyText=e(this._bodyText)),Promise.resolve(new Blob([this._bodyText]))},s.prototype.arrayBuffer=function(e){return this.blob(e).then(o.readBlobAsArrayBuffer)},s.prototype.text=function(e){var t=(0,o.consumed)(this);if(t)return t;if(this._bodyBlob){var r=(0,o.readBlobAsText)(this._bodyBlob);return(0,o.isFunction)(e)?r.then(e):r}if(this._bodyFormData)throw new Error("could not read FormData body as text");return(0,o.isFunction)(e)&&(this._bodyText=e(this._bodyText)),Promise.resolve(this._bodyText)}):s.prototype.text=function(e){var t=(0,o.consumed)(this);return t?t:((0,o.isFunction)(e)&&(this._bodyText=e(this._bodyText)),Promise.resolve(this._bodyText))},o.support.formData&&(s.prototype.formData=function(e){return this.text(e).then(o.decode)}),s.prototype.json=function(e){return this.text(e).then(JSON.parse)},t.default=s,e.exports=t.default},function(e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],o=Object.prototype.toString,a=t.canCreateNewBlob=function(){try{return new Blob,!0}catch(e){return!1}},s=t.consumed=function(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)},i=t.decode=function(e){var t=new FormData;return e.trim().split("&").forEach(function(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}),t},u=t.fileReaderReady=function(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})},l=t.isFunction=function(e){return"[object Function]"===o.call(e)||"function"==typeof e},f=t.isObject=function(e){return"object"===("undefined"==typeof e?"undefined":r(e))&&!!e},d=t.isPrototypeOfDataType=function(e,t){return t.prototype.isPrototypeOf(e)},c=t.isString=function(e){return"[object String]"===o.call(e)},h=t.normalizeMethod=function(e){var t=(c(e)?e:String(e)).toUpperCase();return~n.indexOf(t)?t:e},p=t.normalizeName=function(e){if(e=y(e),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e},y=t.normalizeValue=function(e){return c(e)||(e=String(e)),e},m=t.readBlobAsArrayBuffer=function(e){var t=new FileReader;return t.readAsArrayBuffer(e),u(t)},b=t.readBlobAsText=function(e){var t=new FileReader;return t.readAsText(e),u(t)},_=t.setNonEnumerable=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0})},v=t.support={arrayBuffer:"ArrayBuffer"in window,blob:"FileReader"in window&&"Blob"in window&&a(),formData:"FormData"in window},w=t.xhrResponseURL=function(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0};t.default={canCreateNewBlob:a,consumed:s,decode:i,fileReaderReady:u,isFunction:l,isObject:f,isPrototypeOfDataType:d,isString:c,normalizeMethod:h,normalizeName:p,normalizeValue:y,readBlobAsArrayBuffer:m,readBlobAsText:b,setNonEnumerable:_,support:v,xhrResponseURL:w}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),s=function(){function e(t){var r=this;n(this,e),this.map={},t instanceof e?t.forEach(function(e,t){r.append(t,e)}):t&&Object.getOwnPropertyNames(t).forEach(function(e){r.append(e,t[e])})}return o(e,[{key:"append",value:function(e,t){e=(0,a.normalizeName)(e),t=(0,a.normalizeValue)(t);var r=this.map[e];r||(r=[],this.map[e]=r),r.push(t)}},{key:"delete",value:function(e){e=(0,a.normalizeName)(e),delete this.map[e]}},{key:"forEach",value:function(e){var t=this;Object.getOwnPropertyNames(this.map).forEach(function(r){var n=t.map[r];n.forEach(function(o){e.call(t,o,r,n)})})}},{key:"get",value:function(e){e=(0,a.normalizeName)(e);var t=this.map[e];return t?t[0]:null}},{key:"getAll",value:function(e){return e=(0,a.normalizeName)(e),this.map[e]||[]}},{key:"has",value:function(e){return e=(0,a.normalizeName)(e),this.map.hasOwnProperty(e)}},{key:"set",value:function(e,t){e=(0,a.normalizeName)(e),t=(0,a.normalizeName)(t),this.map[e]=[t]}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),u=n(i),l=r(5),f=n(l),d=r(4),c=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this)),s=r.body;if((0,d.isPrototypeOfDataType)(e,t)){if(e.bodyUsed)throw new TypeError("Already read");n.url=e.url,n.credentials=e.credentials,r.headers||(n.headers=new f.default(e.headers)),n.method=e.method,n.mode=e.mode,s||(s=e._bodyInit,e.bodyUsed=!0)}else n.url=e;if(n.cache=r.cache||n.cache||"default",n.credentials=r.credentials||n.credentials||"omit",n.password=r.password||null,n.username=r.username||null,(r.headers||!n.headers)&&(n.headers=new f.default(r.headers)),n.method=(0,d.normalizeMethod)(r.method||n.method||"GET"),n.mode=r.mode||n.mode||null,n.referrer=null,("GET"===n.method||"HEAD"===n.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");return n._initBody(s),n}return s(t,e),t}(u.default);c.prototype.clone=function(){return new c(this)},t.default=c,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),u=n(i),l=r(5),f=n(l),d=[301,302,303,307,308],c=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));n._initBody(e),n.status=r.status;var s=n.status>=200&&n.status<300;return n.ok=s,n.headers=r.headers instanceof f.default?r.headers:new f.default(r.headers),n.statusText=r.statusText,n.type=s?"default":"error",n.url=r.url||"",n}return s(t,e),t}(u.default);c.prototype.clone=function(){return new c(this._bodyInit,{headers:new f.default(this.headers),status:this.status,statusText:this.statusText,url:this.url})},c.prototype.error=function(){var e=new c(null,{status:0,statusText:""});return e.type="error",e},c.prototype.redirect=function(e,t){if(!~d.indexOf(t))throw new RangeError("Invalid status code");return new c(null,{headers:{location:e},status:t})},t.default=c,e.exports=t.default}])});